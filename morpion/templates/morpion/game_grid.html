{% extends "morpion/base.html" %}
{% block content %}
<div class="container">
    <h1>Partie en cours - {{ game.title }}</h1>
    <h2>Joueurs :</h2>
    <p class="player-name lead">{{ game.creator.username }} (Créateur)</p>
    <p class="player-name lead">{{ game.player2.username }}</p>
    <p class="player-name lead" id="active-player">Au tour de : {{ game.active_player }}</p>
    {% if game.access_code is not None %}
    <p class="player-name">Code d'accès : {{ game.access_code }}</p>
    {% endif %}
    <button class="btn btn-outline-danger" type="submit">Abandonner</button>
    <table id="game-grid">
        {% for row in game.grid %}
        <tr>
            {% for cell in row %}
            <td class="cell" id="{{ forloop.parentloop.counter}}-{{ forloop.counter}}" data-game-id="{{ game.id }}"
                onclick="gameManagement(this, id)">{% if cell is not None %} {{ cell }} {% endif %}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}